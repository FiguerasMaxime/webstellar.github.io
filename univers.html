<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="css/univers.css">
	<title>UNIVERS</title>
</head>

<body id="body">
	<section id="contentUnivers">
		<!--<iframe src="chargement.html"></iframe> -->
		<div id="threeUnivers">
			<header>
				<nav>
					<a href="index.html" id="logo">
						<img src="img/DevLab.png" alt="devlab" class="devlab">
					</a>
				</nav>
			</header>
			<!-- https://developer.ibm.com/tutorials/wa-webgl3/ -->
			<div id="DW">
				<!-- DIV qu'on veut faire apparaitre lorsqu'on survol la planète-->
				<h2>DÉVELOPPEMENT WEB</h2>
				<p>Retrouvez ici les projets fait dans l'axe Développement Web regroupant des projets de tout type</p>
			</div>
			<div class="flex">
				<div id="titlePage">
					<h2>UNIVERS</h2>
				</div>
			</div>

			<div id="galaxie1">
				<h2>GALAXIE A1</h2>
			</div>
			<div id="goToGalaxieA1">
				<a href="galaxieA1.html"> Galaxie A1</a>
			</div>

			<div id="galaxie2">
				<h2>GALAXIE BACHELOR</h2>
			</div>
			<div id="goToGalaxieA3">
				<a href="galaxieA3.html"> Galaxie Bachelor</a>
			</div>

			<div id="galaxie3">
				<h2>GALAXIE MASTER</h2>
			</div>
			<div id="goToGalaxieA5">
				<a href="galaxieA5.html"> Galaxie Master</a>
			</div>
			<div class="navigation">
				<svg class="svgNav" viewBox="-65 -40 224 240" preserveAspectRatio="none">
					<path d="M45.2,96.8c24.9,0,45.2-20.2,45.2-45.2c0-21.6-14.9-39.7-35.7-44.1c-1-4.3-4.8-7.5-9.4-7.5s-8.4,3.2-9.4,7.5
						C14.9,11.9,0,30,0,51.6c0,7.1,1.7,14,4.9,20.4c-1,1.5-1.7,3.4-1.7,5.4c0,5.3,4.4,9.7,9.7,9.7c1.3,0,2.5-0.2,3.6-0.7
						C24.6,93.1,34.6,96.8,45.2,96.8z M45.2,6.5c1.8,0,3.2,1.5,3.2,3.2s-1.5,3.2-3.2,3.2s-3.2-1.5-3.2-3.2S43.3,6.5,45.2,6.5z M36.5,14
						c1.6,3.2,4.8,5.4,8.6,5.4c3.8,0,7.1-2.2,8.6-5.4c17.6,4,30.1,19.4,30.1,37.7c0,21.3-17.4,38.7-38.7,38.7c-8.7,0-17-2.9-23.8-8.3
						c0.8-1.4,1.3-2.9,1.3-4.6c0-5.3-4.4-9.7-9.7-9.7c-0.9,0-1.8,0.2-2.6,0.4C7.8,63,6.4,57.3,6.4,51.6C6.5,33.3,18.9,17.9,36.5,14
						L36.5,14z M9.7,77.4c0-1.8,1.5-3.2,3.2-3.2s3.2,1.5,3.2,3.2s-1.5,3.2-3.2,3.2S9.7,79.2,9.7,77.4z" />
					<path class="svgClicked"
						d="M20.1,57.7c2.8,11.4,13.1,19.7,25,19.7c3.5,0,6.9-0.8,10.2-2.1c1.7,1.3,3.7,2.1,6,2.1c5.3,0,9.7-4.4,9.7-9.7
					c0-2.3-0.8-4.3-2.1-6c1.4-3.2,2.1-6.7,2.1-10.2c0-14.2-11.6-25.8-25.8-25.8c-9.2,0-17.7,5-22.3,12.9c-0.1,0-0.2,0-0.3,0
					c-5.3,0-9.7,4.4-9.7,9.7C12.9,52.9,16,56.6,20.1,57.7z M61.3,71c-1.8,0-3.2-1.5-3.2-3.2s1.5-3.2,3.2-3.2s3.2,1.5,3.2,3.2
					S63.1,71,61.3,71z M45.2,32.3c10.7,0,19.4,8.7,19.4,19.4c0,2.3-0.4,4.6-1.2,6.7c-0.6-0.1-1.3-0.2-2-0.2c-5.3,0-9.7,4.4-9.7,9.7
					c0,0.7,0.1,1.4,0.2,2c-2.1,0.8-4.4,1.2-6.7,1.2c-8.6,0-16.1-5.8-18.5-13.8c3.3-1.5,5.6-4.9,5.6-8.8c0-2.9-1.3-5.5-3.3-7.3
					C32.4,35.7,38.5,32.3,45.2,32.3z M22.6,45.2c1.8,0,3.2,1.5,3.2,3.2s-1.5,3.2-3.2,3.2s-3.2-1.5-3.2-3.2S20.8,45.2,22.6,45.2z" />


					<circle class="svgClicked" cx="45.2" cy="51.6" r="5.6" />
				</svg>
			</div>
		</div>

	</section>

	<script src="js/three.js"></script> <!-- SCRIPT LIBRAIRIE THREE JS-->
	<script src="js/OrbitControls.js"></script> <!-- SCRIPT POUR POUVOIR DÉPLACER LA CAMÉRA -->
	<script src="js/threex.domevents.js"></script> <!-- SCRIPT POUR LES EVENEMENTS EN THREE JS-->
	<script src="js/Tween.js"></script>
	<script src="js/anime.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
	<script>

		var DW = document.getElementById('DW');
		var galaxie1 = document.getElementById('galaxie1');
		var galaxie2 = document.getElementById('galaxie2');
		var galaxie3 = document.getElementById('galaxie3');
		var body = document.getElementById('body');
		var goToGalaxieA1 = document.getElementById('goToGalaxieA1');
		var goToGalaxieA3 = document.getElementById('goToGalaxieA3');
		var goToGalaxieA5 = document.getElementById('goToGalaxieA5');
		var univers = document.getElementById('threeUnivers');
		var galaxieA1 = document.getElementById('galaxieA1');
		var galaxieA3 = document.getElementById('galaxieA3');
		var galaxieA5 = document.getElementById('galaxieA5');
		var move = 0;

		//SCENE
		const scene = new THREE.Scene();

		//CAMERA 
		const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

		//RENDERER
		const renderer = new THREE.WebGLRenderer({ alpha: true }); // PERMET DE METTRE SANS FOND 
		renderer.setClearColor(0xFFFFFF, 0); // ENLEVE LE FOND => OPACITY 0
		renderer.setSize(window.innerWidth, window.innerHeight);
		univers.appendChild(renderer.domElement); // TOUT LE THREE JS SERA DANS L'ENFANT QUON LUI DONNE, ICI C'EST DANS LE BODY

		//SPHERE CENTRALE
		const geometry = new THREE.SphereGeometry(7, 10, 10);
		const material = new THREE.MeshNormalMaterial({ wireframe: true });
		const sphere = new THREE.Mesh(geometry, material);
		sphere.rotation.x = 40;
		sphere.rotation.y = 0;
		scene.add(sphere);

		var e = .1; // Epaisseur des orbites
		var e2 = 0.05 // Epaisseur des orbites des galaxies
		//CERCLE ORBITE 
		var torusGeometry = new THREE.TorusBufferGeometry(20, e, 16, 100);
		var torusMaterial = new THREE.MeshBasicMaterial();
		var torus = new THREE.Mesh(torusGeometry, torusMaterial);
		torus.rotation.x = Math.PI / 2; // Math.PI/2 = PI/2 = 90° IL FAUT METTRE EN RADIAN POUR LES MUTIPLES DE 90
		scene.add(torus);

		//CERCLE ORBITE2
		var torusGeometry2 = new THREE.TorusBufferGeometry(30, e, 16, 100);
		var torusMaterial2 = new THREE.MeshBasicMaterial();
		var torus2 = new THREE.Mesh(torusGeometry2, torusMaterial2);
		torus2.rotation.x = Math.PI / 2; // Math.PI/2 = PI/2 = 90° IL FAUT METTRE EN RADIAN POUR LES MUTIPLES DE 90
		scene.add(torus2);
		//CERCLE ORBITE3
		var torusGeometry3 = new THREE.TorusBufferGeometry(45, e, 16, 100);
		var torusMaterial3 = new THREE.MeshBasicMaterial();
		var torus3 = new THREE.Mesh(torusGeometry3, torusMaterial3);
		torus3.rotation.x = Math.PI / 2; // Math.PI/2 = PI/2 = 90° IL FAUT METTRE EN RADIAN POUR LES MUTIPLES DE 90
		scene.add(torus3);

		//Moon
		var moonGeometry = new THREE.SphereGeometry(1.5, 30, 30);
		var moonMaterial = new THREE.MeshPhongMaterial();
		var moon = new THREE.Mesh(moonGeometry, moonMaterial);
		moon.position.set(20, 0, 0);
		scene.add(moon);
		var r = 20;
		var theta = 0;
		var dTheta = 2 * Math.PI / 3200; // PLUS ON DIVISE AVEC UN NOMBRE ELEVE PLUS LA VITESSE RALENTI 
		//CERCLE ORBITE MOON
		var torusMoonGeometry = new THREE.TorusBufferGeometry(4.2, e2, 16, 100);
		var torusMoonMaterial = new THREE.MeshBasicMaterial();
		var torusMoon = new THREE.Mesh(torusMoonGeometry, torusMoonMaterial);
		scene.add(torusMoon);
		torusMoon.rotation.x = Math.PI / 2;
		//CERCLE ORBITE2 MOON
		var torus2MoonGeometry = new THREE.TorusBufferGeometry(3.2, e2, 16, 100);
		var torus2MoonMaterial = new THREE.MeshBasicMaterial();
		var torus2Moon = new THREE.Mesh(torus2MoonGeometry, torus2MoonMaterial);
		scene.add(torus2Moon);
		torus2Moon.rotation.x = Math.PI / 2;

		//Moon2
		var moonGeometry2 = new THREE.SphereGeometry(1.5, 30, 30);
		var moonMaterial2 = new THREE.MeshPhongMaterial();
		var moon2 = new THREE.Mesh(moonGeometry2, moonMaterial2);
		moon2.position.set(-30, 0, 30);
		scene.add(moon2);
		var r2 = 30;
		var theta2 = 90;
		var dTheta2 = 2 * Math.PI / 2800; // PLUS ON DIVISE AVEC UN NOMBRE ELEVE PLUS LA VITESSE RALENTI 
		//CERCLE ORBITE MOON2
		var torusMoon2Geometry = new THREE.TorusBufferGeometry(5, e2, 16, 100);
		var torusMoon2Material = new THREE.MeshBasicMaterial();
		var torusMoon2 = new THREE.Mesh(torusMoon2Geometry, torusMoon2Material);
		scene.add(torusMoon2);
		torusMoon2.rotation.x = Math.PI / 2;
		//CERCLE ORBITE2 MOON2
		var torus2Moon2Geometry = new THREE.TorusBufferGeometry(3.5, e2, 16, 100);
		var torus2Moon2Material = new THREE.MeshBasicMaterial();
		var torus2Moon2 = new THREE.Mesh(torus2Moon2Geometry, torus2Moon2Material);
		scene.add(torus2Moon2);
		torus2Moon2.rotation.x = Math.PI / 2;

		//Moon3
		var moonGeometry3 = new THREE.SphereGeometry(1.5, 30, 30);
		var moonMaterial3 = new THREE.MeshPhongMaterial({ color: 0x4555b9 });
		var moon3 = new THREE.Mesh(moonGeometry3, moonMaterial3);
		moon3.position.set(-30, 0, 30);
		scene.add(moon3);
		var r3 = 45;
		var theta3 = 270;
		var dTheta3 = 2 * Math.PI / 2000;
		//CERCLE ORBITE MOON3
		var torusMoon3Geometry = new THREE.TorusBufferGeometry(6.5, e2, 16, 100);
		var torusMoon3Material = new THREE.MeshBasicMaterial();
		var torusMoon3 = new THREE.Mesh(torusMoon3Geometry, torusMoon3Material);
		scene.add(torusMoon3);
		torusMoon3.rotation.x = Math.PI / 2;
		//CERCLE ORBITE2 MOON3
		var torus2Moon3Geometry = new THREE.TorusBufferGeometry(4, e2, 16, 100);
		var torus2Moon3Material = new THREE.MeshBasicMaterial();
		var torus2Moon3 = new THREE.Mesh(torus2Moon3Geometry, torus2Moon3Material);
		scene.add(torus2Moon3);
		torus2Moon3.rotation.x = Math.PI / 2;

		var render = function () { // 
			if (move == 0) {
				theta += dTheta;
				moon.position.x = r * Math.cos(theta);
				moon.position.z = r * Math.sin(theta);

				theta2 += dTheta2;
				moon2.position.x = r2 * Math.cos(theta2);
				moon2.position.z = r2 * Math.sin(theta2);

				theta3 += dTheta3;
				moon3.position.x = r3 * Math.cos(theta3);
				moon3.position.z = r3 * Math.sin(theta3);

				torusMoon.position.x = moon.position.x;
				torusMoon.position.y = moon.position.y;
				torusMoon.position.z = moon.position.z;

				torus2Moon.position.x = moon.position.x;
				torus2Moon.position.y = moon.position.y;
				torus2Moon.position.z = moon.position.z;

				torusMoon2.position.x = moon2.position.x;
				torusMoon2.position.y = moon2.position.y;
				torusMoon2.position.z = moon2.position.z;

				torus2Moon2.position.x = moon2.position.x;
				torus2Moon2.position.y = moon2.position.y;
				torus2Moon2.position.z = moon2.position.z;

				torusMoon3.position.x = moon3.position.x;
				torusMoon3.position.y = moon3.position.y;
				torusMoon3.position.z = moon3.position.z;

				torus2Moon3.position.x = moon3.position.x;
				torus2Moon3.position.y = moon3.position.y;
				torus2Moon3.position.z = moon3.position.z;
			}
			else {
	
				moon.position.x = moon.position.x;
				moon.position.z = moon.position.z;

	
				moon2.position.x = moon2.position.x;
				moon2.position.z = moon2.position.z;


				moon3.position.x = moon3.position.x;
				moon3.position.z = moon3.position.z;
			}
		};

		camera.position.z = 80
		camera.position.y = 35;
		camera.rotation.x = -Math.PI / 6;

		const domEvents = new THREEx.DomEvents(camera, renderer.domElement);

		domEvents.addEventListener(sphere, 'mouseover', event => {
			sphere.scale.x = 2;
			sphere.scale.y = 2;
			sphere.scale.z = 2;
			DW.style.display = 'block';
			goToGalaxieA1.style.display = 'none';
			goToGalaxieA3.style.display = 'none';
			goToGalaxieA5.style.display = 'none';

		});
		domEvents.addEventListener(sphere, 'mouseout', event => {
			sphere.scale.x = 1;
			sphere.scale.y = 1;
			sphere.scale.z = 1;
			DW.style.display = 'none';
		});
		domEvents.addEventListener(sphere, 'click', event => {
			controls.target = sphere.position;
		});
		// INTERACTION AVEC MOON
		domEvents.addEventListener(moon, 'mouseover', event => {
			moon.scale.x = 2;
			moon.scale.y = 2;
			moon.scale.z = 2;
			galaxie1.style.display = 'block';
			move = 1;
			goToGalaxieA3.style.display = 'none';
			goToGalaxieA5.style.display = 'none';
		});
		domEvents.addEventListener(moon, 'mouseout', event => {
			moon.scale.x = 1;
			moon.scale.y = 1;
			moon.scale.z = 1;
			galaxie1.style.display = 'none';
			move = 0;
		});
		domEvents.addEventListener(moon, 'click', event => {
			controls.target = moon.position;
			galaxie1.style.display = 'block';
			goToGalaxieA1.style.display = 'block';
		});
		// INTERACTION AVEC MOON2
		domEvents.addEventListener(moon2, 'mouseover', event => {
			moon2.scale.x = 2;
			moon2.scale.y = 2;
			moon2.scale.z = 2;
			galaxie2.style.display = 'block';
			move = 1;
			goToGalaxieA1.style.display = 'none';
			goToGalaxieA5.style.display = 'none';

		});
		domEvents.addEventListener(moon2, 'mouseout', event => {
			moon2.scale.x = 1;
			moon2.scale.y = 1;
			moon2.scale.z = 1;
			galaxie2.style.display = 'none';
			move = 0;
		});
		domEvents.addEventListener(moon2, 'click', event => {
			controls.target = moon2.position;
			goToGalaxieA3.style.display = 'block';
		});
		// INTERACTION AVEC MOON3
		domEvents.addEventListener(moon3, 'mouseover', event => {
			moon3.scale.x = 2;
			moon3.scale.y = 2;
			moon3.scale.z = 2;
			galaxie3.style.display = 'block';
			move = 1;
			goToGalaxieA1.style.display = 'none';
			goToGalaxieA3.style.display = 'none';

		});
		domEvents.addEventListener(moon3, 'mouseout', event => {
			moon3.scale.x = 1;
			moon3.scale.y = 1;
			moon3.scale.z = 1;
			galaxie3.style.display = 'none';
			move = 0;
		});
		domEvents.addEventListener(moon3, 'click', event => {
			controls.target = moon3.position;
			goToGalaxieA5.style.display = 'block';
		});

		var light = new THREE.PointLight(0xFFFFFF);
		light.position.set(50, 10, 50);
		scene.add(light);

		// var helper = new THREE.GridHelper(1000, 40, 0x303030, 0x303030);
		// helper.position.y = - 75;
		// scene.add(helper);

		var light2 = new THREE.PointLight(0xFFFFFF);
		light.position.set(0, 0, 0);
		scene.add(light2);

		// var axesHelper = new THREE.AxesHelper(15);
		// scene.add(axesHelper);


		controls = new THREE.OrbitControls(camera, renderer.domElement);
		controls.minDistance = 1;
		controls.maxDistance = 1000;
	
		//RESIZE CAMERA
		function onWindowResize() {
			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();
			renderer.setSize(window.innerWidth, window.innerHeight);
		}

		const animate = () => {
			requestAnimationFrame(animate);

			sphere.rotation.y += 0.002;

			controls.update();
			onWindowResize();
			render();

			renderer.render(scene, camera);
		}

		animate();
	</script>
	<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$("iframe").fadeOut(2500);
		});
	</script>
</body>

</html>